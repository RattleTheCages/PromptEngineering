/*
001<Freestyle>What is in the data array was recorded from a different application, describe what these applications do.

The application reads pre-recorded values from a multidimensional array stored in program memory every 22 milliseconds to control the brightness of three LEDs and the position of three servos.
The sequence of operations thus simulates a complex, pre-determined behavior or pattern which can be useful for automation, precise control tasks,
or simply running a demonstration of synchronized LED and servo operations.
*/

#include <Servo.h>
#include <avr/pgmspace.h>

// Pins for the LEDs
const int ledPin1 = 3;
const int ledPin2 = 5;
const int ledPin3 = 6;
const int ledPinTop = 13;

// Pins for the Servos
const int servoPin1 = 9;
const int servoPin2 = 10;
const int servoPin3 = 11;

// Servo objects
Servo servo1;
Servo servo2;
Servo servo3;

void setup() {
  Serial.begin(9600);
  
  // Initialize LED pins as outputs
  pinMode(ledPin1, OUTPUT);
  pinMode(ledPin2, OUTPUT);
  pinMode(ledPin3, OUTPUT);
  pinMode(ledPinTop, OUTPUT);
  
  // Attach the servos to their respective pins
  servo1.attach(servoPin1);
  servo2.attach(servoPin2);
  servo3.attach(servoPin3);
}

unsigned long previousMillis = 0;
unsigned long currentMillis = 0;
unsigned long x = 0;
const long interval = 22;
static int index = 0;


const int n = 1644;
   const int data[3][1644] PROGMEM = {
  {
86, 85, 86, 86, 86, 86, 87, 86, 87, 87, 87, 86, 87, 86, 86, 87, 87, 87, 87, 87, 87, 86, 87, 87, 87, 87, 87, 87, 87, 87, 87, 87, 85, 87, 87, 87, 87, 86, 87, 87, 87, 87, 86, 87, 87, 87, 87, 85, 87, 87, 87, 87, 87, 87, 87, 87, 87, 87, 87, 87, 87, 86, 85, 87, 87, 86, 87, 86, 87, 87, 87, 87, 86, 87, 87, 87, 87, 85, 87, 87, 87, 87, 85, 87, 87, 87, 87, 86, 87, 87, 87, 87, 86, 87, 87, 87, 86, 87, 87, 87, 87, 87, 86, 87, 87, 87, 87, 86, 87, 87, 87, 87, 85, 87, 87, 87, 87, 86, 87, 87, 87, 87, 86, 87, 87, 87, 87, 86, 87, 87, 87, 87, 86, 87, 87, 87, 87, 85, 86, 83, 80, 72, 62, 55, 46, 37, 32, 22, 16, 10, 6, 5, 8, 21, 32, 36, 37, 37, 43, 52, 63, 70, 74, 74, 73, 73, 73, 75, 73, 73, 73, 74, 75, 75, 81, 88, 96, 105, 119, 130, 139, 148, 158, 167, 174, 183, 191, 200, 209, 221, 234, 242, 247, 252, 258, 263, 272, 281, 291, 300, 308, 318, 321, 326, 330, 332, 333, 334, 334, 335, 335, 334, 335, 335, 335, 335, 335, 334, 331, 315, 301, 296, 293, 291, 289, 285, 280, 276, 273, 269, 266, 262, 257, 253, 249, 244, 241, 238, 236, 233, 230, 225, 219, 212, 205, 199, 199, 203, 219, 238, 252, 263, 271, 278, 285, 290, 299, 307, 315, 322, 329, 335, 340, 343, 348, 351, 351, 351, 350, 351, 348, 341, 332, 325, 317, 307, 296, 287, 278, 270, 262, 256, 252, 245, 238, 230, 225, 220, 217, 212, 208, 203, 197, 190, 185, 179, 178, 178, 178, 178, 187, 198, 214, 229, 239, 246, 251, 255, 260, 269, 279, 289, 301, 309, 317, 324, 331, 336, 339, 341, 342, 342, 342, 342, 342, 341, 337, 332, 327, 321, 317, 310, 302, 295, 288, 280, 274, 267, 261, 255, 248, 240, 233, 225, 220, 215, 209, 204, 198, 191, 184, 179, 173, 165, 161, 161, 167, 188, 208, 227, 244, 259, 274, 287, 302, 317, 332, 344, 361, 376, 387, 395, 402, 408, 410, 411, 412, 412, 412, 412, 412, 412, 410, 400, 385, 370, 359, 350, 343, 336, 326, 316, 302, 286, 272, 263, 255, 248, 241, 233, 224, 216, 208, 207, 207, 207, 207, 207, 208, 213, 220, 231, 239, 246, 253, 260, 268, 277, 286, 293, 301, 308, 314, 319, 322, 325, 327, 329, 334, 339, 343, 349, 351, 352, 352, 352, 352, 351, 344, 336, 327, 318, 308, 301, 293, 286, 277, 270, 260, 252, 247, 242, 234, 228, 222, 218, 215, 212, 209, 209, 209, 209, 209, 209, 214, 221, 231, 242, 250, 255, 263, 273, 283, 295, 306, 317, 328, 340, 351, 358, 365, 369, 373, 374, 374, 374, 374, 374, 373, 367, 361, 354, 346, 339, 330, 320, 310, 300, 287, 276, 263, 253, 243, 235, 228, 223, 219, 216, 212, 208, 207, 206, 206, 215, 205, 208, 216, 228, 244, 257, 270, 279, 290, 305, 318, 332, 348, 364, 378, 389, 403, 415, 426, 436, 440, 443, 444, 444, 444, 438, 434, 425, 416, 408, 398, 389, 378, 365, 352, 339, 326, 312, 296, 280, 263, 247, 243, 218, 208, 202, 196, 191, 188, 184, 182, 182, 186, 194, 208, 229, 247, 264, 285, 306, 321, 337, 351, 365, 376, 384, 393, 403, 410, 414, 415, 416, 416, 416, 417, 416, 416, 414, 406, 396, 385, 368, 352, 333, 313, 291, 270, 249, 233, 220, 215, 210, 206, 204, 201, 200, 199, 200, 199, 199, 199, 200, 199, 204, 214, 229, 245, 256, 263, 271, 283, 291, 300, 307, 314, 319, 324, 332, 336, 339, 342, 345, 347, 348, 348, 348, 348, 348, 349, 349, 349, 349, 349, 348, 340, 332, 322, 318, 314, 307, 296, 283, 272, 261, 252, 242, 233, 223, 215, 208, 206, 205, 205, 205, 204, 205, 205, 205, 209, 221, 239, 255, 268, 277, 288, 298, 307, 317, 327, 339, 353, 368, 380, 389, 393, 396, 397, 397, 397, 396, 388, 378, 365, 356, 349, 341, 335, 325, 313, 299, 286, 274, 261, 250, 240, 233, 229, 228, 226, 225, 225, 224, 224, 224, 224, 224, 224, 227, 237, 250, 266, 284, 298, 309, 319, 332, 346, 360, 374, 389, 403, 414, 425, 432, 438, 439, 439, 439, 432, 415, 398, 386, 376, 368, 361, 352, 342, 332, 318, 304, 291, 281, 270, 256, 244, 236, 229, 223, 221, 221, 224, 242, 267, 293, 315, 333, 348, 366, 385, 401, 415, 421, 422, 422, 422, 422, 422, 422, 421, 417, 412, 403, 392, 381, 367, 354, 342, 333, 323, 312, 300, 289, 277, 266, 256, 245, 236, 227, 219, 214, 208, 205, 201, 199, 200, 215, 251, 290, 316, 337, 354, 373, 388, 400, 412, 421, 426, 430, 432, 434, 433, 433, 433, 433, 433, 433, 433, 433, 433, 433, 433, 433, 429, 423, 413, 404, 395, 386, 380, 372, 365, 354, 346, 336, 324, 312, 301, 288, 275, 261, 247, 232, 218, 211, 208, 205, 203, 200, 197, 198, 198, 203, 232, 271, 308, 340, 374, 408, 440, 466, 485, 495, 498, 500, 500, 500, 498, 494, 492, 489, 480, 470, 464, 465, 465, 465, 452, 432, 419, 422, 453, 482, 480, 440, 398, 372, 361, 350, 332, 323, 331, 346, 346, 346, 344, 316, 279, 260, 247, 228, 209, 203, 200, 201, 201, 201, 201, 202, 200, 202, 202, 202, 202, 202, 202, 202, 205, 214, 232, 248, 260, 266, 272, 278, 283, 290, 298, 306, 311, 320, 333, 346, 363, 378, 391, 400, 408, 416, 424, 432, 434, 435, 436, 436, 436, 436, 436, 436, 428, 415, 403, 393, 386, 378, 369, 358, 345, 333, 320, 309, 298, 288, 276, 269, 264, 263, 261, 260, 260, 259, 258, 257, 254, 251, 246, 241, 235, 231, 231, 236, 261, 296, 319, 336, 348, 362, 377, 390, 401, 412, 420, 428, 435, 438, 439, 440, 441, 443, 444, 444, 442, 433, 418, 404, 394, 386, 378, 367, 354, 342, 329, 314, 307, 285, 273, 261, 252, 244, 237, 232, 227, 222, 218, 213, 208, 205, 206, 207, 216, 236, 255, 273, 292, 307, 318, 333, 354, 376, 397, 416, 436, 454, 467, 471, 472, 466, 447, 424, 404, 389, 382, 378, 373, 367, 365, 360, 354, 343, 324, 304, 275, 244, 223, 217, 216, 224, 255, 293, 326, 356, 391, 420, 445, 465, 480, 490, 492, 480, 454, 425, 402, 379, 362, 342, 321, 298, 275, 251, 229, 215, 214, 219, 262, 308, 343, 366, 386, 400, 419, 447, 477, 501, 525, 548, 573, 585, 587, 586, 586, 585, 581, 574, 568, 561, 552, 543, 536, 525, 520, 520, 520, 511, 484, 467, 466, 464, 453, 444, 434, 414, 393, 366, 339, 312, 283, 254, 233, 213, 203, 203, 203, 203, 203, 203, 203, 203, 203, 203, 203, 203, 203, 202, 203, 203, 203, 203, 204, 209, 218, 227, 232, 236, 245, 258, 273, 283, 294, 307, 316, 324, 334, 343, 350, 354, 364, 370, 378, 387, 399, 409, 414, 417, 417, 418, 418, 416, 404, 384, 357, 334, 313, 301, 288, 273, 267, 246, 237, 227, 219, 217, 215, 215, 215, 214, 215, 215, 216, 223, 236, 252, 270, 287, 300, 312, 328, 348, 369, 388, 403, 417, 429, 438, 440, 445, 447, 447, 447, 447, 446, 439, 428, 417, 407, 395, 381, 368, 356, 343, 332, 320, 305, 290, 275, 259, 249, 240, 228, 220, 215, 213, 211, 209, 207, 205, 204, 204, 203, 203, 204, 210, 230, 251, 271, 294, 318, 340, 365, 394, 424, 454, 475, 480, 482, 481, 469, 449, 428, 413, 398, 384, 369, 353, 340, 333, 328, 322, 313, 300, 288, 283, 281, 290, 319, 358, 390, 416, 438, 460, 481, 492, 495, 490, 466, 439, 418, 402, 389, 374, 362, 349, 340, 335, 332, 322, 318, 316, 320, 348, 374, 387, 393, 402, 407, 416, 434, 458, 480, 500, 521, 538, 549, 556, 559, 561, 561, 561, 560, 552, 543, 531, 516, 503, 492, 482, 471, 461, 453, 443, 432, 423, 414, 402, 388, 367, 341, 312, 277, 243, 207, 186, 177, 174, 173, 169, 168, 169, 169, 168, 169, 169, 169, 169, 169, 169, 169, 171, 180, 197, 218, 232, 235, 238, 235, 237, 238, 240, 243, 245, 248, 253, 259, 267, 277, 290, 301, 310, 314, 315, 315, 316, 316, 317, 317, 324, 338, 354, 375, 392, 409, 423, 434, 439, 441, 447, 452, 452, 453, 453, 453, 452, 453, 453, 452, 453, 453, 453, 452, 449, 439, 424, 405, 386, 365, 346, 328, 306, 279, 255, 236, 223, 215, 209, 212, 212, 212, 212, 212, 215, 224, 237, 251, 269, 290, 307, 320, 338, 359, 380, 395, 411, 424, 438, 448, 456, 460, 463, 464, 464, 463, 463, 455, 447, 440, 438, 433, 425, 419, 413, 405, 395, 384, 372, 359, 344, 332, 320, 307, 293, 278, 264, 249, 235, 219, 215, 214, 211, 211, 210, 220, 241, 260, 278, 297, 314, 331, 356, 390, 429, 469, 510, 541, 554, 556, 555, 539, 507, 478, 451, 423, 399, 382, 371, 361, 348, 340, 332, 320, 308, 291, 273, 261, 268, 259, 273, 325, 390, 444, 483, 509, 526, 538, 544, 540, 512, 475, 439, 405, 373, 346, 328, 307, 289, 275, 271, 273, 291, 330, 371, 391, 389, 340, 286, 266, 274, 324, 405, 463, 505, 548, 577, 595, 604, 610, 611, 611, 610, 593, 565, 538, 517, 502, 490, 473, 456, 436, 416, 396, 376, 357, 335, 306, 272, 240, 210, 197, 193, 193, 192, 193, 193, 193, 193, 193, 193, 193, 193, 194, 193, 193, 193, 192, 193, 193, 193, 193, 193, 193, 193, 193, 193, 193, 193, 193, 192, 193, 193, 193, 192, 193, 193  },
  {
1023, 1023, 1023, 1023, 1023, 1023, 1023, 1023, 1023, 1023, 1023, 1023, 1023, 1023, 1023, 1023, 1023, 1023, 1023, 1023, 1023, 1023, 1023, 1023, 1023, 1023, 1023, 1023, 1023, 1023, 1023, 1023, 1023, 1023, 1023, 1023, 1023, 1023, 1023, 1023, 1023, 1023, 1023, 1023, 1023, 1023, 1023, 1023, 1023, 1023, 1023, 1023, 1023, 1023, 1023, 1023, 1023, 1023, 1023, 1023, 1023, 1023, 1023, 1023, 1023, 1023, 1023, 1023, 1023, 1023, 1023, 1023, 1023, 1023, 1023, 1023, 1023, 1023, 1023, 1023, 1023, 1023, 1023, 1023, 1023, 1023, 1023, 1023, 1023, 1023, 1023, 1023, 1023, 1023, 1023, 1023, 1023, 1023, 1023, 1023, 1023, 1023, 1023, 1023, 1023, 1023, 1023, 1023, 1023, 1023, 1023, 1023, 1023, 1023, 1023, 1023, 1023, 1023, 1023, 1023, 1023, 1023, 1011, 1023, 1023, 1023, 1023, 1023, 1023, 1023, 1023, 1023, 1023, 1023, 1023, 1023, 1023, 1023, 1023, 1023, 1023, 1023, 1023, 1023, 1023, 1023, 1023, 1023, 1023, 1023, 1023, 1023, 1023, 1023, 1023, 1023, 1023, 1023, 1023, 1023, 1023, 1023, 1023, 1023, 1023, 1023, 1023, 1021, 1023, 1023, 1023, 1023, 1002, 1023, 1023, 1023, 1023, 1023, 1023, 1023, 1023, 1023, 1023, 1023, 1023, 1023, 1023, 1023, 1023, 1023, 1023, 1022, 1023, 1023, 1023, 1023, 1023, 1023, 1022, 1023, 1018, 1009, 998, 986, 972, 960, 949, 942, 931, 920, 906, 893, 884, 875, 868, 863, 861, 860, 860, 860, 860, 858, 860, 860, 860, 860, 860, 860, 862, 865, 873, 881, 894, 906, 916, 923, 929, 934, 938, 944, 948, 955, 959, 964, 966, 968, 968, 969, 968, 969, 969, 973, 969, 968, 969, 968, 968, 967, 964, 957, 944, 935, 927, 921, 917, 917, 916, 915, 914, 914, 912, 911, 908, 907, 906, 906, 907, 905, 907, 906, 906, 907, 907, 908, 911, 917, 926, 933, 941, 946, 949, 957, 963, 969, 973, 979, 984, 989, 992, 993, 993, 992, 993, 991, 993, 993, 993, 993, 993, 993, 993, 992, 988, 980, 975, 970, 964, 960, 956, 950, 944, 941, 938, 935, 933, 930, 927, 925, 924, 921, 922, 922, 922, 922, 922, 922, 922, 922, 922, 922, 923, 923, 924, 927, 930, 933, 936, 941, 945, 949, 953, 958, 962, 965, 971, 976, 978, 979, 979, 977, 979, 979, 979, 987, 979, 979, 979, 979, 978, 979, 979, 978, 975, 969, 962, 955, 942, 929, 919, 910, 904, 901, 900, 899, 900, 900, 899, 900, 900, 897, 900, 900, 900, 903, 907, 912, 918, 923, 928, 934, 937, 942, 947, 953, 956, 963, 969, 972, 975, 976, 976, 976, 977, 976, 976, 976, 976, 976, 976, 975, 974, 972, 970, 969, 964, 961, 957, 952, 946, 943, 938, 934, 930, 927, 924, 923, 924, 923, 924, 924, 924, 924, 924, 923, 924, 924, 923, 924, 925, 926, 926, 930, 934, 940, 945, 950, 956, 960, 964, 970, 973, 976, 980, 981, 982, 984, 983, 984, 984, 984, 984, 984, 984, 983, 984, 981, 983, 981, 980, 977, 970, 963, 956, 952, 947, 942, 938, 933, 927, 927, 924, 922, 918, 919, 918, 917, 916, 917, 917, 917, 917, 918, 921, 924, 929, 933, 938, 945, 953, 961, 969, 974, 979, 988, 988, 989, 990, 989, 986, 989, 989, 989, 989, 989, 988, 985, 980, 976, 973, 969, 963, 960, 957, 949, 944, 938, 932, 926, 921, 916, 912, 909, 907, 906, 906, 905, 906, 906, 905, 906, 906, 905, 905, 906, 905, 906, 909, 907, 908, 915, 924, 936, 947, 956, 964, 971, 977, 984, 988, 990, 993, 994, 993, 993, 991, 993, 993, 994, 993, 994, 994, 993, 993, 992, 985, 976, 963, 948, 937, 928, 922, 919, 918, 917, 918, 917, 917, 917, 918, 912, 917, 917, 917, 918, 915, 917, 919, 922, 927, 935, 943, 953, 961, 969, 975, 980, 985, 986, 991, 993, 994, 979, 995, 994, 995, 994, 994, 995, 995, 994, 993, 991, 987, 982, 978, 973, 970, 965, 960, 955, 949, 943, 939, 937, 933, 931, 929, 927, 927, 928, 927, 927, 928, 927, 928, 926, 927, 928, 929, 930, 932, 940, 947, 955, 963, 972, 979, 986, 992, 1000, 1005, 1006, 1007, 1008, 1009, 1008, 1008, 1008, 1008, 1008, 1008, 1008, 1007, 1005, 1003, 1000, 996, 990, 983, 977, 973, 970, 964, 961, 957, 951, 949, 945, 943, 942, 943, 943, 943, 947, 945, 943, 943, 943, 943, 943, 943, 946, 949, 956, 965, 975, 983, 991, 998, 1001, 1005, 1008, 1010, 1011, 1012, 1012, 1012, 1011, 1010, 1004, 991, 980, 971, 959, 954, 945, 937, 929, 926, 922, 920, 919, 918, 919, 919, 919, 919, 918, 918, 919, 918, 918, 918, 918, 918, 921, 925, 929, 916, 941, 947, 956, 964, 973, 980, 984, 986, 985, 988, 988, 988, 987, 988, 986, 980, 972, 963, 954, 942, 935, 927, 922, 918, 913, 911, 910, 909, 909, 909, 910, 909, 910, 910, 909, 910, 911, 913, 917, 924, 934, 945, 958, 972, 984, 994, 1003, 1012, 1015, 1018, 1020, 1020, 1020, 1019, 1020, 1020, 1020, 1020, 1018, 1010, 1000, 990, 977, 965, 960, 949, 942, 935, 930, 921, 920, 915, 909, 905, 900, 897, 897, 897, 897, 896, 896, 897, 895, 897, 897, 898, 898, 897, 897, 897, 897, 901, 907, 916, 924, 932, 942, 950, 959, 970, 972, 980, 989, 993, 999, 1004, 1006, 1006, 1007, 1006, 1007, 1006, 1007, 1007, 1006, 1004, 1006, 1006, 1006, 1006, 1005, 1007, 1006, 1006, 1006, 1006, 1006, 1005, 1006, 1006, 1006, 1006, 1006, 1006, 1007, 1007, 1007, 1006, 1006, 1004, 1007, 1006, 1006, 1006, 1006, 1006, 1003, 1006, 1006, 1006, 1006, 1009, 1004, 1006, 1006, 1006, 1006, 1005, 1006, 1006, 1006, 1006, 1006, 1005, 1006, 1006, 1006, 1006, 1003, 997, 992, 989, 984, 980, 974, 968, 962, 956, 950, 947, 943, 941, 938, 935, 933, 931, 930, 929, 929, 929, 928, 928, 928, 928, 929, 928, 927, 926, 926, 925, 925, 925, 925, 925, 925, 925, 925, 925, 924, 925, 925, 925, 925, 925, 925, 925, 925, 925, 926, 927, 932, 940, 950, 960, 967, 973, 975, 984, 990, 994, 995, 999, 1000, 1001, 1001, 1001, 1001, 1001, 1001, 1001, 1002, 998, 1001, 1001, 1000, 997, 989, 977, 965, 955, 944, 937, 930, 926, 922, 921, 920, 919, 918, 915, 918, 917, 917, 917, 917, 917, 917, 921, 918, 919, 920, 924, 927, 937, 946, 957, 965, 975, 982, 989, 994, 1000, 1003, 1005, 1006, 1006, 1007, 1008, 1006, 1006, 1007, 1007, 1007, 1006, 1006, 1007, 1006, 1007, 1006, 1006, 1007, 1007, 1007, 1006, 1007, 1007, 1006, 1006, 1006, 1007, 1006, 1005, 1006, 1006, 1006, 1006, 1006, 1007, 1006, 1006, 1006, 1006, 1003, 1006, 1007, 1006, 1006, 1007, 1003, 1007, 1006, 1006, 1007, 1007, 1003, 1004, 1006, 1006, 1006, 1006, 1006, 1005, 1006, 1006, 1006, 1006, 1006, 1008, 1006, 1006, 1006, 1006, 1007, 1007, 1006, 1006, 1007, 1007, 1006, 1006, 1007, 1007, 1007, 1007, 1006, 1007, 1006, 1006, 1007, 1006, 1006, 1007, 1006, 1006, 1006, 1006, 1006, 1005, 1006, 1006, 1007, 1006, 1004, 1006, 1007, 1006, 1007, 1006, 1007, 1005, 1006, 1006, 1006, 1006, 1006, 983, 1006, 1006, 1006, 1006, 1006, 1006, 1007, 1006, 1006, 1006, 1004, 1006, 1006, 1006, 1006, 1006, 1007, 1006, 1006, 1006, 1006, 1006, 1006, 1003, 1003, 1000, 998, 995, 989, 988, 984, 977, 973, 968, 962, 956, 950, 944, 942, 940, 937, 935, 931, 928, 927, 927, 926, 927, 927, 925, 927, 927, 926, 931, 927, 926, 928, 934, 942, 954, 963, 970, 974, 978, 982, 987, 990, 992, 995, 997, 998, 998, 998, 997, 998, 998, 994, 989, 980, 970, 963, 955, 947, 943, 937, 932, 929, 927, 925, 925, 923, 922, 922, 922, 921, 921, 921, 920, 921, 921, 921, 920, 921, 921, 922, 923, 928, 935, 941, 946, 954, 963, 970, 977, 982, 992, 997, 998, 999, 1003, 1004, 1006, 1005, 1006, 1006, 1006, 1006, 1006, 1006, 1006, 1005, 1005, 1006, 1005, 1000, 998, 995, 996, 995, 992, 987, 982, 979, 977, 977, 976, 976, 976, 976, 977, 976, 976, 976, 976, 976, 976, 976, 976, 975, 976, 976, 976, 974, 976, 976, 977, 975, 976, 976, 976, 978, 977, 976, 976, 976, 976, 976, 976, 971, 964, 959, 955, 950, 948, 945, 942, 940, 936, 933, 930, 928, 928, 928, 928, 928, 928, 927, 927, 928, 928, 928, 929, 929, 931, 933, 933, 941, 948, 956, 963, 969, 974, 977, 984, 986, 989, 992, 993, 994, 996, 997, 997, 997, 997, 997, 997, 996, 997, 997, 997, 997, 999, 997, 997, 997, 996, 996, 994, 991, 990, 986, 986, 981, 976, 968, 959, 953, 946, 941, 935, 928, 922, 917, 914, 912, 913, 912, 913, 912, 912, 912, 911, 912, 912, 912, 912, 911, 908, 906, 902, 895, 893, 891, 889, 887, 885, 884, 884, 885, 889, 899, 913, 926, 935, 943, 954, 961, 965, 966, 966, 967, 967, 967, 968, 968, 968, 968, 967, 967, 967, 972, 962, 948, 934, 920, 909, 900, 892, 889, 887, 887, 887, 888, 887, 887, 887, 887, 887, 888, 888, 889, 892, 900, 909, 920, 930, 938, 948, 956, 961, 967, 968, 970, 971, 971, 972, 973, 975, 977, 978, 982, 984, 986, 985, 988, 989, 989, 989, 990, 991, 992, 992, 992, 992, 992, 992, 992, 988, 976, 964, 956, 950, 947, 942, 937, 934, 931, 928, 924, 922, 921, 920, 919, 919, 919, 919, 920, 923, 926, 928, 930, 931, 929, 933, 935, 938, 947, 958, 970, 977, 983, 991, 995, 995, 994, 995, 995, 996, 996, 994, 996, 996, 996, 996, 996, 996, 996, 996, 993, 996, 996, 996, 996, 996, 996, 997, 1001, 996, 996, 996, 1001, 994, 995, 996, 996, 995, 996, 996, 996, 996, 991, 996, 996, 996, 996, 993, 988, 980, 974, 972, 969, 966, 964, 963, 960, 957, 954, 949, 949, 949, 948, 948, 949, 948, 948, 948, 947, 948, 948, 948, 948, 949, 948, 948, 948, 944, 948, 948, 948, 947, 948, 948, 948, 949, 948, 948, 948, 948, 948, 948, 948, 948, 948, 948, 948, 948, 930, 948, 948  },
  {
991, 1018, 1006, 992, 1001, 1019, 1022, 1008, 993, 995, 1003, 1022, 1022, 1008, 993, 994, 1005, 1020, 1021, 1006, 992, 996, 1004, 1020, 1021, 1005, 991, 993, 1002, 1020, 1023, 1004, 1000, 994, 1009, 1022, 1015, 1007, 985, 996, 1011, 1023, 1023, 989, 989, 996, 1008, 1023, 1016, 999, 992, 994, 1003, 1020, 1021, 1007, 990, 997, 1002, 1020, 1021, 1006, 1000, 991, 1007, 1022, 1016, 1009, 985, 996, 1009, 1023, 1023, 991, 991, 994, 1005, 1023, 1017, 1001, 990, 995, 1013, 1020, 1019, 1001, 990, 1008, 1008, 1021, 1014, 994, 1003, 995, 1011, 1022, 1014, 994, 992, 998, 1009, 1023, 1023, 994, 990, 994, 1003, 1023, 1018, 1003, 989, 995, 1012, 1019, 1020, 1003, 990, 1006, 1006, 1021, 1015, 996, 999, 997, 1006, 1023, 1020, 995, 989, 992, 1001, 1019, 1023, 1003, 988, 992, 1002, 1023, 1018, 1006, 990, 993, 1013, 1017, 1021, 1005, 989, 1004, 1003, 1020, 1016, 1005, 1004, 987, 997, 1006, 1022, 1023, 993, 990, 994, 1005, 1023, 1021, 1004, 990, 995, 1015, 1018, 1018, 1001, 989, 1005, 1013, 1023, 1015, 995, 1003, 1003, 1018, 1009, 988, 997, 1020, 1023, 991, 990, 1005, 1023, 1009, 990, 1008, 1019, 1014, 990, 994, 1015, 1023, 1003, 983, 1001, 1014, 989, 969, 956, 951, 954, 954, 953, 928, 901, 880, 871, 868, 873, 876, 869, 863, 841, 832, 834, 849, 852, 862, 861, 852, 839, 832, 834, 847, 865, 878, 886, 888, 884, 886, 896, 910, 929, 941, 942, 938, 931, 929, 936, 949, 963, 969, 967, 956, 944, 942, 943, 953, 967, 981, 961, 953, 938, 931, 927, 929, 934, 932, 921, 908, 894, 889, 901, 900, 913, 915, 908, 895, 882, 880, 885, 903, 905, 908, 903, 899, 877, 878, 887, 913, 917, 927, 927, 921, 924, 918, 933, 953, 967, 973, 972, 963, 957, 961, 969, 982, 994, 997, 981, 971, 961, 963, 972, 984, 993, 1003, 972, 956, 948, 951, 956, 963, 964, 951, 936, 919, 912, 915, 926, 934, 931, 925, 910, 900, 893, 899, 911, 924, 924, 916, 906, 903, 889, 899, 912, 923, 924, 918, 907, 902, 905, 915, 933, 946, 958, 942, 934, 929, 937, 950, 965, 977, 977, 975, 953, 947, 949, 969, 972, 979, 978, 980, 951, 948, 951, 959, 972, 974, 965, 951, 929, 910, 905, 904, 909, 912, 904, 891, 879, 872, 874, 886, 898, 911, 895, 886, 873, 879, 876, 891, 911, 920, 920, 915, 906, 907, 917, 932, 949, 959, 959, 951, 943, 943, 949, 962, 974, 976, 972, 960, 947, 946, 953, 963, 975, 974, 966, 954, 938, 933, 939, 950, 953, 950, 937, 920, 908, 902, 905, 919, 926, 925, 919, 905, 895, 897, 903, 915, 926, 925, 915, 905, 896, 899, 905, 920, 931, 936, 932, 923, 921, 927, 939, 958, 969, 970, 966, 955, 949, 953, 973, 972, 982, 980, 971, 959, 953, 955, 966, 987, 979, 979, 968, 958, 942, 940, 944, 955, 955, 944, 932, 914, 910, 902, 911, 921, 936, 914, 904, 893, 897, 888, 902, 915, 918, 915, 905, 894, 896, 906, 920, 939, 948, 948, 944, 938, 942, 958, 971, 984, 988, 982, 978, 955, 956, 963, 983, 985, 986, 979, 963, 950, 948, 951, 958, 967, 962, 947, 931, 916, 909, 914, 920, 932, 916, 905, 889, 881, 883, 884, 900, 908, 905, 899, 884, 876, 887, 883, 897, 908, 908, 898, 884, 882, 890, 909, 932, 947, 954, 952, 943, 945, 954, 967, 984, 991, 988, 980, 976, 956, 964, 974, 988, 994, 990, 979, 977, 957, 959, 966, 969, 961, 947, 926, 904, 898, 899, 906, 920, 930, 910, 903, 889, 892, 895, 905, 917, 920, 925, 896, 888, 890, 900, 918, 936, 945, 947, 943, 938, 943, 956, 980, 982, 987, 982, 979, 963, 963, 971, 995, 989, 992, 984, 972, 963, 962, 967, 978, 982, 976, 967, 948, 934, 933, 934, 942, 948, 941, 928, 915, 903, 902, 911, 923, 929, 936, 915, 902, 898, 909, 904, 921, 929, 927, 930, 907, 908, 920, 937, 958, 972, 976, 982, 962, 962, 978, 1002, 1002, 978, 979, 995, 1009, 1000, 975, 992, 998, 1005, 986, 973, 978, 1000, 993, 980, 960, 948, 947, 949, 959, 964, 966, 939, 926, 915, 925, 923, 936, 944, 948, 936, 920, 914, 915, 925, 940, 945, 944, 938, 928, 928, 941, 957, 978, 992, 992, 981, 971, 980, 1002, 1012, 988, 978, 991, 1010, 1003, 969, 962, 960, 970, 962, 952, 937, 928, 898, 897, 905, 915, 922, 921, 910, 897, 893, 890, 899, 915, 921, 918, 910, 895, 897, 891, 903, 920, 939, 936, 931, 925, 926, 938, 955, 973, 983, 991, 970, 958, 956, 970, 966, 982, 983, 974, 958, 935, 923, 920, 931, 924, 926, 915, 900, 887, 882, 887, 899, 913, 910, 907, 895, 882, 882, 887, 900, 926, 918, 920, 920, 918, 929, 948, 970, 991, 1003, 984, 979, 993, 1015, 1016, 997, 986, 1004, 1022, 1002, 984, 994, 1005, 995, 970, 948, 942, 940, 944, 946, 939, 932, 902, 891, 886, 893, 901, 904, 901, 901, 873, 867, 870, 879, 899, 897, 895, 888, 880, 864, 869, 880, 902, 897, 901, 898, 892, 901, 903, 923, 946, 964, 963, 960, 955, 964, 961, 978, 1001, 1001, 978, 984, 992, 1005, 997, 977, 983, 1007, 1004, 986, 973, 982, 1003, 1009, 978, 975, 989, 1007, 1000, 985, 977, 991, 1005, 990, 973, 989, 993, 1005, 990, 974, 979, 1013, 1002, 977, 970, 984, 1004, 1014, 981, 967, 989, 1004, 995, 981, 983, 991, 1005, 994, 975, 988, 998, 1000, 992, 974, 976, 1005, 1003, 983, 973, 982, 1000, 1000, 976, 963, 962, 968, 982, 973, 966, 951, 933, 924, 922, 929, 940, 942, 936, 925, 908, 903, 907, 914, 928, 943, 923, 915, 903, 899, 907, 911, 924, 928, 924, 912, 900, 897, 909, 909, 924, 926, 928, 907, 895, 895, 903, 913, 926, 929, 921, 917, 896, 896, 907, 936, 939, 951, 954, 947, 950, 944, 958, 977, 1003, 990, 982, 967, 968, 997, 997, 993, 974, 969, 984, 1012, 993, 978, 966, 973, 983, 985, 975, 956, 933, 917, 911, 914, 924, 931, 921, 912, 897, 896, 889, 898, 912, 929, 912, 905, 893, 891, 892, 902, 916, 924, 936, 915, 912, 917, 929, 948, 970, 982, 998, 974, 964, 968, 990, 1005, 1001, 971, 979, 999, 1006, 987, 983, 978, 1000, 1005, 979, 976, 999, 1003, 998, 977, 975, 989, 1011, 998, 977, 974, 990, 1007, 1007, 975, 972, 994, 1004, 989, 983, 975, 995, 1004, 988, 974, 997, 993, 1004, 987, 974, 982, 1014, 1000, 977, 973, 986, 1006, 1020, 971, 968, 990, 1004, 992, 985, 976, 989, 1004, 991, 974, 989, 996, 1004, 992, 975, 979, 1007, 1011, 981, 973, 984, 1005, 1017, 973, 974, 992, 1007, 998, 988, 972, 991, 1006, 996, 976, 987, 991, 1003, 995, 975, 976, 1004, 1011, 982, 972, 981, 1001, 1011, 981, 975, 989, 1006, 999, 979, 981, 985, 1005, 1000, 974, 978, 1007, 1008, 992, 976, 980, 999, 1007, 992, 974, 980, 999, 1013, 991, 974, 980, 999, 1008, 991, 974, 981, 1000, 1006, 982, 975, 995, 999, 999, 979, 967, 975, 966, 976, 981, 985, 960, 943, 933, 929, 931, 942, 946, 940, 931, 914, 902, 904, 913, 921, 931, 926, 926, 900, 895, 898, 913, 923, 927, 927, 920, 912, 916, 927, 944, 973, 969, 971, 968, 960, 961, 962, 975, 991, 997, 993, 983, 972, 973, 965, 975, 983, 990, 964, 948, 927, 920, 919, 923, 934, 934, 926, 914, 899, 893, 901, 911, 920, 925, 917, 905, 895, 892, 898, 916, 918, 920, 916, 915, 892, 899, 912, 929, 947, 955, 955, 951, 956, 948, 964, 981, 1003, 995, 982, 971, 978, 1000, 1006, 982, 974, 986, 1006, 1002, 986, 970, 990, 1005, 992, 969, 976, 972, 985, 992, 1000, 968, 953, 948, 954, 963, 975, 978, 971, 966, 946, 944, 952, 976, 971, 975, 971, 960, 954, 942, 950, 962, 984, 971, 967, 958, 955, 941, 951, 963, 976, 977, 968, 957, 948, 947, 954, 968, 974, 978, 955, 938, 925, 924, 928, 938, 946, 941, 930, 914, 903, 903, 911, 923, 931, 930, 931, 904, 898, 900, 910, 923, 931, 930, 924, 921, 903, 914, 929, 950, 964, 966, 961, 957, 953, 955, 968, 983, 997, 989, 982, 970, 965, 968, 978, 992, 1003, 994, 979, 968, 968, 978, 985, 996, 996, 1000, 969, 960, 964, 973, 998, 984, 978, 966, 946, 936, 936, 939, 947, 945, 932, 916, 899, 897, 892, 903, 913, 919, 910, 898, 887, 894, 886, 900, 914, 916, 913, 895, 880, 877, 890, 882, 894, 894, 893, 868, 857, 855, 864, 875, 893, 906, 910, 906, 906, 916, 930, 952, 960, 962, 958, 957, 932, 935, 945, 958, 967, 967, 958, 946, 945, 933, 935, 938, 934, 923, 906, 883, 870, 874, 872, 885, 893, 890, 882, 869, 860, 863, 872, 884, 893, 896, 884, 880, 883, 894, 912, 935, 948, 953, 952, 939, 936, 942, 958, 961, 971, 969, 962, 958, 945, 952, 966, 973, 982, 982, 973, 972, 954, 960, 972, 1000, 989, 982, 970, 961, 971, 964, 972, 973, 975, 946, 930, 917, 915, 921, 929, 935, 930, 918, 904, 894, 894, 912, 911, 919, 919, 913, 900, 896, 901, 911, 936, 929, 929, 924, 918, 919, 932, 950, 971, 987, 984, 978, 974, 966, 967, 975, 990, 1013, 981, 973, 964, 966, 975, 983, 993, 994, 1001, 961, 961, 966, 990, 988, 993, 991, 984, 970, 962, 972, 991, 1017, 987, 970, 964, 972, 977, 986, 995, 995, 1009, 956, 958, 968, 981, 991, 992, 979, 961, 953, 941, 943, 955, 965, 961, 954, 939, 923, 922, 927, 937, 949, 956, 937, 928, 918, 928, 922, 936, 947, 949, 941, 927, 919, 919, 935, 941, 949, 947, 951, 924, 916, 919, 928, 939, 949, 948, 939, 927, 919, 919, 929, 951, 944, 946, 938, 931, 920, 921  }
};

void loop() {
  if(index == 0)  {
    digitalWrite(ledPinTop, LOW);
    for(x = 0; x < 3; x++)  {
        digitalWrite(ledPinTop, HIGH);
        delay(125);
        digitalWrite(ledPinTop, LOW);
        delay(125);
    }
    digitalWrite(ledPinTop, HIGH);
  }

  currentMillis = millis();
  if (currentMillis - previousMillis >= interval) {
    previousMillis = currentMillis;
    index = (index + 1) % n;

    // Read values from the data array
    int potValue1 = pgm_read_word(&(data[0][index]));
    int potValue2 = pgm_read_word(&(data[1][index]));
    int potValue3 = pgm_read_word(&(data[2][index]));

    // Map the array values (assumed to be in the range 0-1023) to PWM values (0-255)
    int ledBrightness1 = map(potValue1, 0, 1023, 0, 255);
    int ledBrightness2 = map(potValue2, 0, 1023, 0, 255);
    int ledBrightness3 = map(potValue3, 0, 1023, 0, 255);

    // Write the mapped values to the LEDs
    analogWrite(ledPin1, ledBrightness1);
    analogWrite(ledPin2, ledBrightness2);
    analogWrite(ledPin3, ledBrightness3);

    // Map the array values (0-1023) to servo angles (0-180 degrees)
    int servoAngle1 = map(potValue1, 0, 1023, 0, 180);
    int servoAngle2 = map(potValue2, 0, 1023, 0, 180);
    int servoAngle3 = map(potValue3, 0, 1023, 0, 180);

    // Write the mapped angles to the servos
    servo1.write(servoAngle1);
    servo2.write(servoAngle2);
    servo3.write(servoAngle3);

    // Print the array values to the Serial Monitor
    Serial.print("Pot1: ");
    Serial.print(potValue1);
    Serial.print(" - Pot2: ");
    Serial.print(potValue2);
    Serial.print(" - Pot3: ");
    Serial.print(potValue3);
    Serial.print("\n");
  }
}

/*
./arduino-cli compile --fqbn arduino:avr:mega playServos
*/

